//package com.buaa.blockchain.sdk;
//
//import com.buaa.blockchain.sdk.config.CryptoType;
//import com.buaa.blockchain.sdk.crypto.CryptoSuite;
//import com.buaa.blockchain.sdk.crypto.keypair.CryptoKeyPair;
//import com.buaa.blockchain.sdk.crypto.signature.SignatureResult;
//import com.buaa.blockchain.sdk.model.CallMethod;
//import com.buaa.blockchain.sdk.model.Transaction;
//import com.buaa.blockchain.sdk.util.*;
//import com.fasterxml.jackson.core.JsonProcessingException;
//import com.fasterxml.jackson.databind.ObjectMapper;
//import org.junit.Assert;
//import org.junit.Test;
//
//import java.math.BigInteger;
//
//public class RemoteCall {
//    @Test
//    public void testVerify() throws JsonProcessingException {
//        // 1. 初始化公私钥对
//        String address = "0xb4f1f4be27eea76bdaec8f2ec86340a67a167e36";
//        String private_key = "78f18327d1cd40a6cfc20899233e1bd2843c4f76ccef66d0386351dfc0c142ab";
//        CryptoSuite cs = new CryptoSuite(CryptoType.ECDSA_TYPE);
//        CryptoKeyPair keyPair = cs.createKeyPair(private_key);
//
//        // 2. 构造交易对象
//        // 2.1 基础数据
//        String from = address;
//        String to = "0xcd78b0552d6008a375b859f83be8fd481d44f951";
//        BigInteger value = BigInteger.ZERO;
//        // 2.2 合约调用参数
//        CallMethod callMethod = new CallMethod("insertUser", new Object[]{"1", "zhang"});
//        byte[] data = new ObjectMapper().writeValueAsBytes(callMethod);
//
//        // 2.3 组装交易对象
//        Transaction tx = new Transaction(from.getBytes(), to.getBytes(), value, data);
//
//        // 3. 对交易对象进行签名
//        SignatureResult res = cs.sign(cs.hash(tx.toString()), keyPair);
//
//        // 4. 签名验证
//        System.out.println(keyPair.getHexPublicKey());
//        Assert.assertEquals(true, cs.verify(keyPair.getHexPublicKey(), cs.hash(tx.toString()), res.convertToString()));
//    }
//
//    @Test
//    public void testTransfer() throws Exception {
//        // 1. 初始化公私钥对
//        String address = "0xd3e1f60edf3bf04e10d631ce3e7b99d81fcea00e";
//        String private_key = "152501dbf4fd94136678b9bbe34130b6eeda6373d108d5960afd686b77941126";
//        CryptoSuite cs = new CryptoSuite(CryptoType.ECDSA_TYPE);
//        CryptoKeyPair keyPair = cs.createKeyPair(private_key);
//
//        // 2. 构造交易对象
//        // 2.1 基础数据
//        String from = address;
//        String to = "0xcd78b0552d6008a375b859f83be8fd481d44f951";
//        BigInteger value = BigInteger.valueOf(100l);
//
//        // 2.3 组装交易对象
//        Transaction tx = new Transaction(from.getBytes(), to.getBytes(), value, null);
//
//        final String hash = cs.hash(tx.toString());
//        System.out.println("hash:>"+hash);
//        SignatureResult res = cs.sign(hash, keyPair);
//
//        String txJson = new ObjectMapper().writeValueAsString(tx);
//        HttpClientResult result = HttpClientUtils.doPost("http://127.0.0.1:8080/api/v1/tx/send?sig="+res.convertToString(), txJson);
//        System.out.println(result);
//    }
//
//    @Test
//    public void testDeployContract() throws Exception {
//        // 1. 初始化公私钥对
//        String address = "0xb4f1f4be27eea76bdaec8f2ec86340a67a167e36";
//        String private_key = "78f18327d1cd40a6cfc20899233e1bd2843c4f76ccef66d0386351dfc0c142ab";
//        CryptoSuite cs = new CryptoSuite(CryptoType.ECDSA_TYPE);
//        CryptoKeyPair keyPair = cs.createKeyPair(private_key);
//
//        // 2. 构造交易对象
//        // 2.1 基础数据
//        String from = address;
//        String to = null;
//        BigInteger value = BigInteger.ZERO;
//        // 2.2 合约调用参数
//        String contractName = "EisContract";
//        String hexCode = "cafebabe0000003401f60a009b011b07011c0800a30b0098011d07011e0a0005011b090002011f0701200a000801210a000201220b009801230800a609000201240701250a000e01210800a709000201260701270a001201210800a809000201280701290a001601210800a9090002012a07012b0a001a01210800aa090002012c07012d0a001e01210800ab090002012e07012f0a0022012109006b01300a006b01310701320801330a002601340a000201350801360701370a000201380a005601390a0002013a08013b0a013c013d0a013e013f0801400a014101420a013e01430a000201440b009801450a000201460801470a000201480701490a003a011b0a003a014a0a003a014b07014c0a003e011b0a003e014d0a003a014e0a003a014f063fc1eb851eb851ec0a006b01500a006b01510a003a01520a015301540a003a01550a003a0156063fb47ae147ae147b0a003a01570a003a01580801590a003a015a0a003a015b0a003a015c0a003a015d0a003a015e0a003a015f0701600801610a000201620801630a000201640801650801660a005601670801680a0002016908016a09016b016c0a013e016d0a016b016e08016f09000201700a000201710701720a017301740a008901750a006b01760701770a006b01780a0067017908017a0a0067017b0a0067017c0a0002017d08017e08017f05ffffffffffffffff0a006b01800a017301810500000000000000c80a006b01820801830a000201840801850a000201860701870a007f01880801890a007f015b0a007f018a0a007f015f0a0089018b0a006b018c0a006b018d0a0089018e07018f0a0089011b0701900a008b011b0a008b01910801920a008b01930a008b01940801950a000201960a005601970701980a0094011b0a009401990a0094019a07019b07019c08019d07019e01000a49737375654f7264657201000c496e6e6572436c61737365730100094973737565506c616e0100085061794f7264657201000742616c616e636501000d49535355455f4147455f4d41500100025b4901000c42414c414e43455f545950450100124c6a6176612f6c616e672f537472696e673b01000d436f6e7374616e7456616c756501000e5041595f4f524445525f545950450100175041595f4f524445525f4d41505f555345525f545950450100165041595f4f524445525f4d41505f454e545f5459504501000f49535355455f504c414e5f5459504501001049535355455f4f524445525f5459504501000c4e4558545f49445f5459504501000b62616c616e63655265706f01000f4c6a6176612f7574696c2f4d61703b0100095369676e61747572650100364c6a6176612f7574696c2f4d61703c4c6a6176612f6c616e672f4c6f6e673b4c456973436f6e74726163742442616c616e63653b3e3b01000c7061794f726465725265706f0100374c6a6176612f7574696c2f4d61703c4c6a6176612f6c616e672f4c6f6e673b4c456973436f6e7472616374245061794f726465723b3e3b0100107061794f72646572557365725265706f0100334c6a6176612f7574696c2f4d61703c4c6a6176612f6c616e672f537472696e673b4c6a6176612f6c616e672f4c6f6e673b3e3b01000f7061794f72646572456e745265706f01000d6973737565506c616e5265706f0100384c6a6176612f7574696c2f4d61703c4c6a6176612f6c616e672f4c6f6e673b4c456973436f6e7472616374244973737565506c616e3b3e3b0100106973737565486973746f72795265706f01003b4c6a6176612f7574696c2f4d61703c4c6a6176612f6c616e672f537472696e673b4c456973436f6e74726163742449737375654f726465723b3e3b01000e6b657947656e65726174654d61700100063c696e69743e010012284c6a6176612f7574696c2f4d61703b2956010004436f646501000f4c696e654e756d6265725461626c650100124c6f63616c5661726961626c655461626c650100047468697301000d4c456973436f6e74726163743b01000773746f7261676501000d537461636b4d61705461626c6507011c07019b0100104d6574686f64506172616d65746572730100076465706f736974010029284c6a6176612f6c616e672f4c6f6e673b4c6a6176612f6d6174682f426967446563696d616c3b29560100067573657249640100104c6a6176612f6c616e672f4c6f6e673b010006616d6f756e740100164c6a6176612f6d6174682f426967446563696d616c3b01000e6372656174655061794f72646572010039284c6a6176612f6c616e672f4c6f6e673b4c6a6176612f6c616e672f4c6f6e673b4c6a6176612f6d6174682f426967446563696d616c3b2956010005656e74496401000a73616c61727942617365010006706572696f6401000a7061794f7264657249640100087061794f726465720100164c456973436f6e7472616374245061794f726465723b07019f01000e7061794f72646572427955736572010025284c6a6176612f6c616e672f4c6f6e673b4c6a6176612f6c616e672f537472696e673b295607016001000d7061794f726465724279456e74010035284c6a6176612f6c616e672f4c6f6e673b4c6a6176612f6c616e672f4c6f6e673b4c6a6176612f6c616e672f537472696e673b295607014901000f6372656174654973737565506c616e010009626567696e576f726b010009776f726b596561727301000149010005696e64657801000d69737375654d6f6e74684e756d01000762616c616e63650100154c456973436f6e74726163742442616c616e63653b0100096973737565506c616e0100174c456973436f6e7472616374244973737565506c616e3b010005697373756501003f284c6a6176612f6c616e672f4c6f6e673b4c6a6176612f6d6174682f426967446563696d616c3b4c6a6176612f6d6174682f426967446563696d616c3b295601000e6c6173745965617241766756616c01000975736572496e64657801000d6e6174696f6e42616c616e636501000b7573657242616c616e6365010008626173696356616c0100077573657256616c01001269735375624e6174696f6e42616c616e63650100015a01000a69737375654f726465720100184c456973436f6e74726163742449737375654f726465723b07017207017707018f01000a61646442616c616e636501000a73756242616c616e6365010013667265657a654e6174696f6e42616c616e6365010019284c6a6176612f6d6174682f426967446563696d616c3b2956010015756e667265657a654e6174696f6e42616c616e636501000d667265657a6542616c616e636501000f756e667265657a6542616c616e636501000a67657442616c616e6365010027284c6a6176612f6c616e672f4c6f6e673b294c456973436f6e74726163742442616c616e63653b0100156372656174655061794f72646572557365724b6579010036284c6a6176612f6c616e672f537472696e673b4c6a6176612f6c616e672f4c6f6e673b294c6a6176612f6c616e672f537472696e673b0100146372656174655061794f72646572456e744b65790100156372656174654973737565486973746f72794b65790100126e6578745061794f726465724e657874496401000328294a0100096e6578744b65794964010015284c6a6176612f6c616e672f537472696e673b294a0100066e65787449640100076b6579547970650100036e6f7701000b6361737453746f72616765010052284c6a6176612f6c616e672f4f626a6563743b4c636f6d2f666173746572786d6c2f6a61636b736f6e2f636f72652f747970652f547970655265666572656e63653b294c6a6176612f7574696c2f4d61703b0100046a736f6e010001650100344c636f6d2f666173746572786d6c2f6a61636b736f6e2f636f72652f4a736f6e50726f63657373696e67457863657074696f6e3b010004646174610100124c6a6176612f6c616e672f4f626a6563743b01000d747970655265666572656e636501002f4c636f6d2f666173746572786d6c2f6a61636b736f6e2f636f72652f747970652f547970655265666572656e63653b01000c6f626a6563744d617070657201002d4c636f6d2f666173746572786d6c2f6a61636b736f6e2f6461746162696e642f4f626a6563744d61707065723b0701370701a007019807019c0100083c636c696e69743e01000328295601000a536f7572636546696c65010010456973436f6e74726163742e6a6176610c00ba011801000b456973436f6e74726163740c01a101a20100116a6176612f7574696c2f486173684d61700c00ac00ad01000d456973436f6e747261637424310c00ba01a30c010801090c01a401a50c00b000ad01000d456973436f6e747261637424320c00b200ad01000d456973436f6e747261637424330c00b400ad01000d456973436f6e747261637424340c00b500ad01000d456973436f6e747261637424350c00b700ad01000d456973436f6e747261637424360c00b900ad01000d456973436f6e747261637424370c01a600cb0c01a701a8010038636f6d2f627561612f626c6f636b636861696e2f636f6e74726163742f636f6d706f6e656e742f436f6e7472616374457863657074696f6e010016e58585e580bce98791e9a29de5ba94e5a4a7e4ba8e300c00ba01a90c00f400c701000d4445504f5349545f4556454e540100106a6176612f6c616e672f4f626a6563740c010701020c01aa01ab0c01ac01ad010016e7bcb4e8b4b9e59fbae695b0e5ba94e5a4a7e4ba8e300701ae0c01af01b00701b10c010701b2010006797979794d4d0701b30c01b401b50c01b601b70c00fd00fe0c01b801b90c00ff00fe01001be69cace69c9fe5be85e7bcb4e6988ee7bb86e5b7b2e7949fe688900c01010102010014456973436f6e7472616374245061794f726465720c01ba01a90c01bb00f701000e6a6176612f7574696c2f446174650c01bc01020c01bd01be0c01bf01be0c01aa01c00c01c101c20c01c300f70701c40c01aa01c50c01c601c70c01c801be0c01c900f70c01ca01c70100164352454154455f5041595f4f524445525f4556454e540c01cb01cc0c01cd01ce0c01cf01ce0c01d001cc0c01d101ce0c01d201cc01000e6a6176612f6c616e672f4c6f6e67010018e5bd93e69c9fe7bcb4e5ad98e69a82e69caae7949fe688900c00f500c70100095041595f4556454e540c00f900c701000c465245455a455f4556454e540100145041595f4f524445525f555345525f4556454e540c01d301b9010012e99d9ee69cace585ace58fb8e59198e5b7a50c00f600f70100135041595f4f524445525f454e545f4556454e540701d40c01d501d60c01d701d80c01d901da01001be5b9b4e9be84e4b88de7aca6e59088e98080e4bc91e69da1e4bbb60c00a100a20c00fb00fc010015456973436f6e7472616374244973737565506c616e0701db0c01aa01dc0c01dd01cc0c01aa01de0100146a6176612f6d6174682f426967446563696d616c0c01df01e00c00ba01e10100174352454154455f49535355455f504c414e5f4556454e540c01e201e30c01e401cc0c010000fe010018e69cace69c9fe585bbe88081e98791e5b7b2e58f91e694be010015e69caae5889be5bbbae98080e4bc91e8aea1e588920c01e501c20c01e601e70c01df01c2010018e7bb9fe7adb9e5b890e688b7e98791e9a29de4b88de8b6b30c00f800f701000e554e465245455a455f4556454e540c00fa00c7010016456973436f6e74726163742449737375654f726465720c00ba00e601000b49535355455f4556454e540c01e801cc0c00f400f70c01e901cc0c01ea01cc0c01eb00f7010013456973436f6e74726163742442616c616e63650100176a6176612f6c616e672f537472696e674275696c6465720c01ec01ed0100012d0c01ec01ee0c01ef01f001000c5041595f4f524445525f49440c010301040c01f1010201002b636f6d2f666173746572786d6c2f6a61636b736f6e2f6461746162696e642f4f626a6563744d61707065720c01f201f30c01f401f501000d6a6176612f7574696c2f4d6170010032636f6d2f666173746572786d6c2f6a61636b736f6e2f636f72652f4a736f6e50726f63657373696e67457863657074696f6e010018e58aa0e8bdbde59088e7baa6e695b0e68daee587bae99499010030636f6d2f627561612f626c6f636b636861696e2f636f6e74726163742f636f6d706f6e656e742f49436f6e74726163740100106a6176612f6c616e672f537472696e6701002d636f6d2f666173746572786d6c2f6a61636b736f6e2f636f72652f747970652f547970655265666572656e6365010003676574010026284c6a6176612f6c616e672f4f626a6563743b294c6a6176612f6c616e672f4f626a6563743b010010284c456973436f6e74726163743b2956010003707574010038284c6a6176612f6c616e672f4f626a6563743b4c6a6176612f6c616e672f4f626a6563743b294c6a6176612f6c616e672f4f626a6563743b0100034f4e45010009636f6d70617265546f010019284c6a6176612f6d6174682f426967446563696d616c3b2949010015284c6a6176612f6c616e672f537472696e673b295601000776616c75654f66010013284a294c6a6176612f6c616e672f4c6f6e673b0100034c4f47010028284c6a6176612f6c616e672f537472696e673b5b4c6a6176612f6c616e672f4f626a6563743b29560100106a6176612f74696d652f5a6f6e65496401000d73797374656d44656661756c7401001428294c6a6176612f74696d652f5a6f6e6549643b0100136a6176612f74696d652f4c6f63616c44617465010029284c6a6176612f74696d652f5a6f6e6549643b294c6a6176612f74696d652f4c6f63616c446174653b0100226a6176612f74696d652f666f726d61742f4461746554696d65466f726d61747465720100096f665061747465726e010038284c6a6176612f6c616e672f537472696e673b294c6a6176612f74696d652f666f726d61742f4461746554696d65466f726d61747465723b010006666f726d6174010038284c6a6176612f74696d652f666f726d61742f4461746554696d65466f726d61747465723b294c6a6176612f6c616e672f537472696e673b01000b636f6e7461696e734b6579010015284c6a6176612f6c616e672f4f626a6563743b295a010009736574506572696f6401000d73657453616c6172794261736501000767657454696d6501000c73657454696d657374616d70010013284c6a6176612f6c616e672f4c6f6e673b2956010008736574456e7449640100192844294c6a6176612f6d6174682f426967446563696d616c3b0100086d756c7469706c7901002e284c6a6176612f6d6174682f426967446563696d616c3b294c6a6176612f6d6174682f426967446563696d616c3b01000c736574456e74416d6f756e740100116a6176612f6c616e672f426f6f6c65616e010016285a294c6a6176612f6c616e672f426f6f6c65616e3b01000c736574456e74537461747573010016284c6a6176612f6c616e672f426f6f6c65616e3b295601000973657455736572496401000d73657455736572416d6f756e7401000d7365745573657253746174757301000d67657453616c6172794261736501001828294c6a6176612f6d6174682f426967446563696d616c3b01000c67657454696d657374616d7001001228294c6a6176612f6c616e672f4c6f6e673b010008676574456e74496401000c676574456e74416d6f756e7401000967657455736572496401000d67657455736572416d6f756e74010006657175616c7301001d6a6176612f74696d652f74656d706f72616c2f4368726f6e6f556e6974010005594541525301001f4c6a6176612f74696d652f74656d706f72616c2f4368726f6e6f556e69743b010005706172736501002f284c6a6176612f6c616e672f4368617253657175656e63653b294c6a6176612f74696d652f4c6f63616c446174653b0100076265747765656e01003d284c6a6176612f74696d652f74656d706f72616c2f54656d706f72616c3b4c6a6176612f74696d652f74656d706f72616c2f54656d706f72616c3b294a0100116a6176612f6c616e672f496e74656765720100162849294c6a6176612f6c616e672f496e74656765723b01000f676574467265657a65416d6f756e74010019284a294c6a6176612f6d6174682f426967446563696d616c3b010006646976696465010030284c6a6176612f6d6174682f426967446563696d616c3b4949294c6a6176612f6d6174682f426967446563696d616c3b01003f284c6a6176612f6c616e672f496e74656765723b4c6a6176612f6c616e672f496e74656765723b4c6a6176612f6d6174682f426967446563696d616c3b295601000c676574576f726b596561727301001528294c6a6176612f6c616e672f496e74656765723b01000e6765744d6f6e7468416d6f756e74010003616464010008696e7456616c756501000328294901000e6765744261736963416d6f756e740100036162730100066e6567617465010010616464467265657a6542616c616e6365010006617070656e6401002d284c6a6176612f6c616e672f537472696e673b294c6a6176612f6c616e672f537472696e674275696c6465723b01002d284c6a6176612f6c616e672f4f626a6563743b294c6a6176612f6c616e672f537472696e674275696c6465723b010008746f537472696e6701001428294c6a6176612f6c616e672f537472696e673b0100096c6f6e6756616c7565010012777269746556616c75654173537472696e67010026284c6a6176612f6c616e672f4f626a6563743b294c6a6176612f6c616e672f537472696e673b0100097265616456616c7565010055284c6a6176612f6c616e672f537472696e673b4c636f6d2f666173746572786d6c2f6a61636b736f6e2f636f72652f747970652f547970655265666572656e63653b294c6a6176612f6c616e672f4f626a6563743b00210002009b0000000f001a00a100a20000001a00a300a4000100a5000000020003001a00a600a4000100a500000002000c001a00a700a4000100a5000000020010001a00a800a4000100a5000000020014001a00a900a4000100a5000000020018001a00aa00a4000100a500000002001c001a00ab00a4000100a5000000020020000200ac00ad000100ae0000000200af000200b000ad000100ae0000000200b1000200b200ad000100ae0000000200b3000200b400ad000100ae0000000200b3000200b500ad000100ae0000000200b6000200b700ad000100ae0000000200b8000200b900ad000100ae0000000200b30016000100ba00bb000200bc0000028100060002000001b72ab700012b1203b900040200c700112abb000559b70006b50007a7001b2a2a2b1203b900040200bb0008592ab70009b7000ab500072b12032ab40007b9000b0300572b120cb900040200c700112abb000559b70006b5000da7001b2a2a2b120cb900040200bb000e592ab7000fb7000ab5000d2b120c2ab4000db9000b0300572b1210b900040200c700112abb000559b70006b50011a7001b2a2a2b1210b900040200bb0012592ab70013b7000ab500112b12102ab40011b9000b0300572b1214b900040200c700112abb000559b70006b50015a7001b2a2a2b1214b900040200bb0016592ab70017b7000ab500152b12142ab40015b9000b0300572b1218b900040200c700112abb000559b70006b50019a7001b2a2a2b1218b900040200bb001a592ab7001bb7000ab500192b12182ab40019b9000b0300572b121cb900040200c700112abb000559b70006b5001da7001b2a2a2b121cb900040200bb001e592ab7001fb7000ab5001d2b121c2ab4001db9000b0300572b1220b900040200c700112abb000559b70006b50021a7001b2a2a2b1220b900040200bb0022592ab70023b7000ab500212b12202ab40021b9000b030057b10000000300bd0000007a001e0000003100040032000f0033001d00350035003700420039004d003a005b003c0073003e00800040008b00410099004300b1004500be004700c9004800d7004a00ef004c00fc004e0107004f01150051012d0053013a00550145005601530058016b005a0178005c0183005d0191005f01a9006101b6006200be000000160002000001b700bf00c00000000001b700c100ad000100c20000001c000eff001d00020700c30700c400001725172517251725172517251700c5000000050100c10000000100c600c7000200bc00000093000700030000003b2cc6000d2cb20024b600259d000dbb0026591227b70028bf2a2b2cb700292a122a06bd002b59032b5359042ab7002cb8002d5359052c53b6002eb10000000300bd0000001600050000006a000e006b0018006d001e006f003a007000be0000002000030000003b00bf00c000000000003b00c800c900010000003b00ca00cb000200c20000000400020e0900c5000000090200c8000000ca0000000100cc00cd000200bc0000022800060007000001412dc6000d2db20024b600259d000dbb002659122fb70028bfb80030b800311232b80033b600343a042ab400112a19042bb70035b9003602009a00162ab400152a19042cb70037b90036020099000dbb0026591238b70028bf2ab70039b8002d3a05bb003a59b7003b3a0619061904b6003c19062db6003d1906bb003e59b7003fb60040b8002db6004119062cb6004219062d140043b80045b60046b60047190603b80048b6004919062bb6004a19062d14004bb80045b60046b6004d190603b80048b6004e2ab4000d19051906b9000b0300572ab400112a19042bb700351905b9000b0300572ab400152a19042cb700371905b9000b0300572a124f1008bd002b5903190553590419045359051906b600505359061906b600515359071906b600525359081906b60053535910061906b60054535910071906b6005553b6002eb10000000300bd00000076001d00000076000e0077001800790028007a0043007b004e007c0058007f00610080006a0081007100820077008300890084008f0085009e008600a7008700ad008800bc008900c5008a00d3008b00e6008c00f9008e010f009101170092011f0093012700940130009501390096013d008e0140009800be0000004800070000014100bf00c000000000014100c800c900010000014100ce00c900020000014100cf00cb00030028011900d000a40004006100e000d100c90005006a00d700d200d3000600c20000000b00040e09fc00350700d40900c50000000d0300c8000000ce000000cf0000000100d500d6000200bc0000016900070005000000d12ab400112a2c2bb70035b900040200c000564e2dc7000dbb0026591257b70028bf2ab4000d2db900040200c0003a3a04190404b80048b6004e2a2b1904b60055b700582a125906bd002b59032b5359041904b60055535905bb003e59b7003fb60040b8002d53b6002e2a2b1904b60055b7005a2a125b06bd002b59032b5359041904b60055535905bb003e59b7003fb60040b8002d53b6002e2ab4000d2d1904b9000b0300572a125c07bd002b59032d5359042b5359051904b60055535906bb003e59b7003fb60040b8002d53b6002eb10000000300bd0000003e000f0000009e0013009f001700a0002100a2003000a3003900a5004300a6006900a7007300a8009900aa00a600ab00b900ae00c600af00cd00ab00d000b100be000000340005000000d100bf00c00000000000d100c800c90001000000d100d000a40002001300be00d100c90003003000a100d200d3000400c2000000080001fc00210700d700c5000000090200c8000000d00000000100d800d9000200bc0000019b00070006000000eb2ab400152a2d2bb70037b900040200c000563a041904c7000dbb0026591257b70028bf2ab4000d1904b900040200c0003a3a051905b600522bb6005d9a000dbb002659125eb70028bf2a2b1905b60053b700582a125906bd002b59032b5359041905b60053535905bb003e59b7003fb60040b8002d53b6002e2a1905b60053b7005f2a125b06bd002b59032b5359041905b60053535905bb003e59b7003fb60040b8002d53b6002e190504b80048b600492ab4000d19041905b9000b0300572a126007bd002b590319045359042b5359051905b60053535906bb003e59b7003fb60040b8002d53b6002eb10000000300bd000000460011000000b7001400b8001900b9002300bc003300bd003f00be004900c1005300c2007900c3008200c400a800c700b100c800bf00ca00d300cd00e000ce00e700ca00ea00d000be0000003e0006000000eb00bf00c00000000000eb00ce00c90001000000eb00c800c90002000000eb00d000a40003001400d700d100c90004003300b800d200d3000500c20000000e0002fc00230700d7fc00250700da00c50000000d0300ce000000c8000000d00000000100db00d6000200bc0000015500080008000000a2b200612cb80062b80030b80031b60063883e1d1028a2000dbb0026591264b70028bf1d102870b20065bea1000cb20065be0464a700071d1028703604b2006515042e36052a2bb700663a06bb0067591db800681505b800681906b60069150585b8006a071006b6006cb7006d3a072ab400192b1907b9000b0300572a126e07bd002b59032b5359041907b6006f5359051505b800685359061907b6007053b6002eb10000000300bd0000003a000e000000d3001200d4001800d5002200d7003c00d8004400da004b00db006e00dc007b00de008a00e0009200e1009a00e2009e00de00a100e400be000000520008000000a200bf00c00000000000a200c800c90001000000a200dc00a400020012009000dd00de0003003c006600df00de00040044005e00e000de0005004b005700e100e20006006e003400e300e4000700c2000000090003fc00220113430100c5000000090200c8000000dc0000000100e500e6000200bc000003050007000c000001b4b80030b800311232b80033b600343a042ab4001d2a19042bb70071b90036020099000dbb0026591272b70028bf2ab400192bb900040200c000673a051905c7000dbb0026591273b70028bf2a140074b8002db700663a062a2bb700663a072c2db600761905b6006fb6007785b8006ab60046140078b8006ab6007a3a081905b600703a0903360a1907b600691909b6002502a0002304360a1906b6006919081909b60076b6002502a0000dbb002659127bb70028bf1906b600691908b6002502a0000dbb002659127bb70028bf150a9900342a1909b7007c2a127d06bd002b5903140074b8002d5359041909535905bb003e59b7003fb60040b8002d53b6002ea7002d2a2b1909b7007e2a127d06bd002b59032b5359041909535905bb003e59b7003fb60040b8002d53b6002e2a1908b7007c2a127d06bd002b5903140074b8002d5359041908535905bb003e59b7003fb60040b8002d53b6002ebb007f59bb003e59b7003fb60040b8002d19081909b700803a0b2ab4001d2a19042bb70071190bb9000b0300572a128108bd002b59032b5359041904535905190bb60082535906190bb60083535907190bb6008453b6002eb10000000300bd000000820020000000ea001000eb002300ec002d00ef003c00f0004100f1004b00f3005700f4005e00f5007d00f6008400f8008700f9009500fa009800fb00ab00fc00b500ff00c3010000cd010300d2010400d8010501030107010a0108012d010a0133010b015b010e0175010f01880110019c011301a4011401ac011501b0011001b3011700be0000007a000c000001b400bf00c00000000001b400c800c90001000001b400e700cb0002000001b400e800cb0003001001a400d000a40004003c017800e300e400050057015d00e900e20006005e015600ea00e20007007d013700eb00cb00080084013000ec00cb00090087012d00ed00ee000a0175003f00ef00f0000b00c2000000370006fc002d0700d4fc001d0700f1ff0069000b0700c30700d70700f20700f20700d40700f10700f30700f30700f20700f201000017352900c50000000d0300c8000000e7000000e80000000200f400c7000200bc0000006c00030004000000182a2bb700664e2d2cb600852ab400072b2db9000b030057b10000000200bd0000001200040000011a0006011b000b011c0017011d00be0000002a00040000001800bf00c000000000001800c800c900010000001800ca00cb00020006001200e100e2000300c5000000090200c8000000ca0000000200f500c7000200bc00000072000300040000001e2a2bb700664e2d2cb60086b60087b600852ab400072b2db9000b030057b10000000200bd000000120004000001200006012100110122001d012300be0000002a00040000001e00bf00c000000000001e00c800c900010000001e00ca00cb00020006001800e100e2000300c5000000090200c8000000ca0000000200f600f7000200bc00000044000300020000000c2a140074b8002d2bb7005ab10000000200bd0000000a000200000126000b012700be0000001600020000000c00bf00c000000000000c00ca00cb000100c5000000050100ca0000000200f800f7000200bc00000044000300020000000c2a140074b8002d2bb7007eb10000000200bd0000000a00020000012a000b012b00be0000001600020000000c00bf00c000000000000c00ca00cb000100c5000000050100ca0000000200f900c7000200bc0000006f000300040000001b2a2bb700664e2d2cb60086b600882ab400072b2db9000b030057b10000000200bd0000001200040000012e0006012f000e0130001a013100be0000002a00040000001b00bf00c000000000001b00c800c900010000001b00ca00cb00020006001500e100e2000300c5000000090200c8000000ca0000000200fa00c7000200bc00000072000300040000001e2a2bb700664e2d2cb60086b60087b600882ab400072b2db9000b030057b10000000200bd000000120004000001340006013500110136001d013700be0000002a00040000001e00bf00c000000000001e00c800c900010000001e00ca00cb00020006001800e100e2000300c5000000090200c8000000ca0000000200fb00fc000200bc0000008400030003000000282ab400072bb900040200c000894d2cc70017bb008959b7008a4d2ab400072b2cb9000b0300572cb00000000300bd0000001600050000013a000e013b0012013c001a013d0026013f00be0000002000030000002800bf00c000000000002800c800c90001000e001a00e100e2000200c2000000080001fc00260700f300c5000000050100c80000000200fd00fe000200bc000000560002000300000018bb008b59b7008c2bb6008d128eb6008d2cb6008fb60090b00000000200bd0000000600010000014300be0000002000030000001800bf00c000000000001800d000a400010000001800c800c9000200c5000000090200d0000000c80000000200ff00fe000200bc000000560002000300000018bb008b59b7008c2bb6008d128eb6008d2cb6008fb60090b00000000200bd0000000600010000014700be0000002000030000001800bf00c000000000001800d000a400010000001800ce00c9000200c5000000090200d0000000ce00000002010000fe000200bc000000560002000300000018bb008b59b7008c2bb6008d128eb6008d2cb6008fb60090b00000000200bd0000000600010000014b00be0000002000030000001800bf00c000000000001800d000a400010000001800c800c9000200c5000000090200d0000000c80000000201010102000100bc0000003100020001000000072a1291b70092ad0000000200bd0000000600010000014f00be0000000c00010000000700bf00c00000000201030104000200bc000000a3000400030000003c2ab400212bb900040200c7000b09b8002d4da700192ab400212bb900040200c00056b600930a61b8002d4d2ab400212b2cb9000b0300572cb60093ad0000000300bd00000016000500000154000d015500150157002b01590037015a00be0000002a000400120003010500c900020000003c00bf00c000000000003c010600a40001002b0011010500c9000200c200000009000215fc00150700d700c5000000050101060000000201070102000100bc00000035000200010000000bbb003e59b7003fb60040ad0000000200bd0000000600010000015e00be0000000c00010000000b00bf00c00000000201080109000200bc000000b80003000500000026bb009459b700954e2d2bb600963a042d19042cb60097c00098b03a04bb002659129ab70028bf000100080019001a0099000300bd0000001600050000016200080164000f0165001a0166001c016700be0000003e0006000f000b010a00a40004001c000a010b010c00040000002600bf00c0000000000026010d010e000100000026010f011000020008001e01110112000300c2000000180001ff001a00040700c3070113070114070115000107011600c50000000902010d0000010f0000000801170118000100bc000000e800040000000000d0101fbc0a59031100e94f59041100e64f59051100e24f59061100df4f59071100dc4f59081100d84f5910061100d44f5910071100d04f5910081100cc4f5910091100c74f59100a1100c34f59100b1100be4f59100c1100b94f59100d1100b44f59100e1100af4f59100f1100aa4f5910101100a44f59101111009e4f5910121100984f5910131100914f591014103c4f591015103d4f591016103e4f591017103f4f59101810404f59101910414f59101a10424f59101b10434f59101c10444f59101d10454f59101e10464fb30065b10000000100bd0000000600010000001a0002011900000002011a009d0000005a000b007f0002009c000a00670002009e000a003a0002009f000a0089000200a0000a0022000000000000001e000000000000001a00000000000000160000000000000012000000000000000e0000000000000008000000000000";
//
//        // 2.3 组装交易对象
//        Transaction tx = new Transaction(from.getBytes(), null, value, HexUtil.fromHexString(hexCode));
//
//        final String hash = cs.hash(tx.toString());
//        System.out.println("hash:>"+hash);
//        SignatureResult res = cs.sign(hash, keyPair);
//
//        String txJson = new ObjectMapper().writeValueAsString(tx);
//        HttpClientResult result = HttpClientUtils.doPost("http://127.0.0.1:8080/api/v1/tx/send?sig="+res.convertToString(), txJson);
//        System.out.println(result);
//    }
//    @Test
//    public void testSendTx() throws Exception {
//        // 1. 加载本地用户公私钥对
//        String address = "0xb4f1f4be27eea76bdaec8f2ec86340a67a167e36";
//        String private_key = "78f18327d1cd40a6cfc20899233e1bd2843c4f76ccef66d0386351dfc0c142ab";
//        CryptoSuite cs = new CryptoSuite(CryptoType.ECDSA_TYPE);
//        CryptoKeyPair keyPair = cs.createKeyPair(private_key);
//
//        // 2. 构造交易对象
//        // 2.1 基础数据
//        String from = address; //交易发起人
//        String to = "0x8ab4df336df90e79686b1624c98cf966a5fabaa3"; //合约地址
//        BigInteger value = BigInteger.ZERO; //转帐金额
//        // 2.2 合约调用参数(合约方法，合约方法参数)
//        CallMethod callMethod = new CallMethod("deposit", new Object[]{1, 100});
//        byte[] data = new ObjectMapper().writeValueAsBytes(callMethod);
//
//        // 2.3 组装交易对象
//        Transaction tx = new Transaction(from.getBytes(), to.getBytes(), value, data);
//
//        // 3. 交易签名
//        final String hash = cs.hash(tx.toString());
//        SignatureResult res = cs.sign(hash, keyPair);
//        String sig = res.convertToString();
//
//        // 4. 发送请求至链平台
//        String txJson = new ObjectMapper().writeValueAsString(tx);
//        HttpClientResult result = HttpClientUtils.doPost("http://127.0.0.1:8080/api/v1/tx/send?sig="+sig, txJson);
//        System.out.println(result);
//    }
//
//    @Test
//    public void testFetchReceipt() throws Exception {
//        HttpClientResult result = HttpClientUtils.doGet("http://127.0.0.1:8080/api/v1/receipt/list?height=6");
//        System.out.println(result);
//    }
//}
